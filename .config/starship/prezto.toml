#
# prezto - mimic the default prezto prompt (sorin)
#

add_newline = false

# A minimal left prompt
format = """$username$sudo$python$directory$character"""

# move the rest of the prompt to the right
right_format = """$status$all${custom.ssh_keys}${custom.ssh_no_keys}"""

[username]
style_user = 'bold purple'
style_root = 'bold red'
format = "[$user]($style) @ "
disabled = false
show_always = true
#aliases = { "mh" = "manny" }

[sudo]
symbol = 'ğŸ‘‘ '
disabled = false

[character]
success_symbol = "[â¯](red)[â¯](yellow)[â¯](green)"
error_symbol = "[â¯](red)[â¯](red)[â¯](red)"
vicmd_symbol = "[â®](green)[â®](yellow)[â®](red)"

[git_branch]
format = '[$branch]($style) '
style = 'bold green'
symbol = "ï˜ "

[python]
format = '\($virtualenv\) '

[git_status]
format = '$all_status$ahead_behind '
ahead = '[â¬†](bold purple) '
behind = '[â¬‡](bold purple) '
staged = '[âœš](green) '
deleted = '[âœ–](red) '
renamed = '[âœ](purple) '
stashed = '[âœ­](cyan) '
untracked = '[â—¼](white) '
modified = '[âœ±](blue) '
conflicted = '[â•](yellow) '
diverged = 'â‡• '
up_to_date = ''

[directory]
style = "blue"
truncation_length = 1
truncation_symbol = ""
fish_style_pwd_dir_length = 2
read_only = " ó°Œ¾"

[cmd_duration]
min_time = 500
format = '[$duration]($style) '

[line_break]
disabled = true

[status]
disabled = false
symbol = 'âœ˜ '

[nodejs]
symbol = "îœ˜ "

[os.symbols]
Macos = "ïŒ‚ "

[package]
symbol = "ó°— "

[ruby]
symbol = "î‘ "

[rust]
symbol = "ó±˜— "

[custom.ssh_no_keys]
description = "SSH missing keys"
when = "ssh-add -l | grep -q 'no identities'"
command = "echo ğŸš«"
format = "$symbol[$output]($style) "
shell = ["zsh", "--no-rcs"]
symbol = "ğŸ”‘"
style = "bold fg:red"

[custom.ssh_keys]
description = "SSH key count"
when = "ssh-add -l | grep -v -q 'no identities'"
command = "ssh-add -l | grep -v 'no identities' | wc -l"
format = "$symbol[$output]($style) "
shell = ["zsh", "--no-rcs"]
symbol = "ğŸ”‘"
style = "bold fg:green"

[custom.emoji]
description = "Displays a (pseudo) random emoji for each prompt"
# change the content of the EMOJIS array to your liking and replace the
# number 12 with the number of items in the array, minus one
command = "EMOJIS=(â›µï¸ ğŸ›° ğŸª ğŸš€ ğŸ§¡ ğŸ”­ ğŸŒ ğŸ’« â˜„ï¸ âœ¨ ğŸŒ  ğŸŒŒ â­ï¸); EMOJI_INDEX=$(( $RANDOM % 12 + 0 )); echo ${EMOJIS[$EMOJI_INDEX]}"
# if you are on windows, replace "true" with "1"
when = "true"
shell = ["zsh", "--no-rcs"]
format = "$output"
