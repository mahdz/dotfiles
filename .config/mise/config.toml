[tools]
# Essential tools only to avoid SOPS conflicts
node = "24.6.0"
bun = "latest"
"npm:prettier" = "latest"

[env]
[env._]
# Secure environment variables from SOPS-encrypted file (generated on demand)
file = "/tmp/mise-secrets.env"

[settings]
# Python integration
python.uv_venv_auto = true

# Download management
always_keep_download = false
always_keep_install = false

# Performance and security settings
verbose = false                  # Reduce information exposure
http_timeout = "30s"
jobs = 4
experimental = false             # Use stable features only
cache_prune_age = "3d"

[settings.pipx]
uvx = true

[settings.status]
# Minimal status display
show_env = false                 # Don't expose environment variables

[hooks]
# Generate encrypted environment variables on demand
preinstall = "/Users/mh/.local/share/secrets/generate-env.sh >/dev/null; echo '[MISE] Installing tools - $(date)' >> ~/.local/share/mise/install.log"
postinstall = "echo '[MISE] Install completed - $(date)' >> ~/.local/share/mise/install.log"

# Generate env file when entering directory
enter = "/Users/mh/.local/share/secrets/generate-env.sh >/dev/null"

# Remove potentially verbose hooks
# cd = ""
# enter = ""
# leave = ""
